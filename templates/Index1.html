<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width" />
  <title>HydroHive</title>
  <link rel="stylesheet" href={{ url_for('static', filename='style1.css') }}>
  <link href='https://fonts.googleapis.com/css?family=Oswald' rel='stylesheet' type='text/css'>
  <!-- <style>
    
  </style> -->
</head>
<body>
  <div id="glosbeViz"></div>

    <header>
        <h2 class ="logo">HydroHive</h2>
        <ul class="nav_links">
            <li><a href="index" title="">Home</a></li>
            <li><a href="login" title="">Flood Prediction</a></li>
            <li><a href="sign_up" title="">live updates</a></li>
            <!-- <li><a href="#" title="">About</a></li> -->
            <!-- <li><a href="#">Contact</a></li> -->
        </ul>
    </header>
      
  <div id="box">   
    <div class="text">
            <h2>HydroHive</h2>
            <br>
            <h3>Boosting the state's flood response capabilities and reducing damage.</h3>
            <br>
              <p>The goal of this geospatial project is to
                create a flood forecasting system for the
                Indian state of Bihar. The objective is to
                enhance the state's capacity to respond
                to flooding situations and lessen the
                effects they have on local communities.
              </p>
            <a href="/">Explore Now!</a>
      </div>
    </div>
</div>

<script src="//unpkg.com/d3"></script>
<script src="//unpkg.com/d3-dsv"></script>
<script src="//unpkg.com/globe.gl"></script>


  
<script>
  const weightColor = d3.scaleSequentialSqrt(d3.interpolateYlOrRd)
    .domain([0, 1e7]);

  const world = Globe()
    (document.getElementById('globeViz'))
    .globeImageUrl('//unpkg.com/three-globe/example/img/earth-night.jpg')
    .bumpImageUrl('//unpkg.com/three-globe/example/img/earth-topology.png')
    .backgroundImageUrl('//unpkg.com/three-globe/example/img/night-sky.png')
    .hexBinPointWeight('pop')
    .hexAltitude(d => d.sumWeight * 6e-8)
    .hexBinResolution(4)
    .hexTopColor(d => weightColor(d.sumWeight))
    .hexSideColor(d => weightColor(d.sumWeight))
    .hexBinMerge(true)
    .enablePointerInteraction(false); // performance improvement

  fetch('../datasets/world_population.csv').then(res => res.text())
    .then(csv => d3.csvParse(csv, ({ lat, lng, pop }) => ({ lat: +lat, lng: +lng, pop: +pop })))
    .then(data => world.hexBinPointsData(data));

  // Add auto-rotation
  world.controls().autoRotate = true;
  world.controls().autoRotateSpeed = 0.6;
</script>

</body>
</html>
